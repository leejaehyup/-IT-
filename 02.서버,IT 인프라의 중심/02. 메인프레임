2.1 메인프레임과 1세대 IT 인프라의 등장
    IBM의 메인프레임(Mainframe)이다. 요즘에는 유닉스나 x86 서버에 자리를 내주게 되다 보니 최근에는 접하기 어려운 장비이다.
    메인프레임의 정의는 요즘 우리가 말하는 서버의 정의와 다름이 없다.
    하지만, 시기상으로 서버라는 말이 더 나중에 나왔을 것이다. 
    컴퓨터 아키텍처의 변화에서 가장 먼저 나오는 것이 '호스트-터미널(단말)' 방식이다. 
    예전에는 포트란 프로그래밍이 있었는데 단말기(터미널, Terminal)는 모니터와 자판만 달려 있어서 입/출력만 담당하고,
    입력된 내용을 가지고 컴퓨팅(연산,저장)을 수행하는 건 모두 호스트(Host, 메인프레임과 같은 서버)가 담당했다.
    이러한 구조를 '호스트-터미널 구조(1티어)'로 불렸다.
    1티어 구조를 '단순하고 효율적이지만, 컴퓨팅 처리 비용이 높다.'라고 한다.
    TN3270 프로토콜을 사용하여 메인프레임과 통신. 텔넷(Telnet)과 대응되는 것이 TN3270

    사용자 화면(UI, User Interface)이나 프로그램 처리 등의 비즈니스 로직은 클라이언트에서 수행하고 대용량의 배치나
    실시간(온라인, Online) 처리는 서버에서 수행되는 '클라이언트-서버 구조(2티어)'가 출현.
    2티어 구조는 개발이 쉽고, 서버 부하를 경감시킬 수 있다.

    최근에는 확장성이 좋고, 관리가 쉬우며, 프로그램 재사용이 가능한 '클라이언트-웹 서버-데이터베이스 서버 구조(3티어)'로 구성한다.

2.2 메인프레임의 정의와 동시성 제어
    다운사이징(Downsizing)이란? 중장집중식 처리(1티어)방식에서 분산 처리(2티어 또는 3티어)방식의 시스템으로의 전환을 통해 시스템의 크기를 줄여나가는 것.
    메인프레임은 작은 장비 여러 대를 쓰는 분산 처리 방식이 아니라 소수의 대형 장비를 활용한 집중 처리 방식이다.
    사전적 의미로는 '수많은 사용자와 애플리케이션, 장치를 다수의 사람에게 동시에 지원할 수 있는 컴퓨터'라고 한다.
    이 정의에서의 핵심은 '많은 사용자를 동시에 지원한다'라는 것이다. '동시에 지원한다.'는 것이 어떻게 생각하면 굉장히 쉽게 느껴질 수 있는데,
    이것이 운영체제, 하드웨어 등 인프라 입장에서는 가장 핵심적인 기술이다. 이러한 동시성을 제공하려면 어떤 것들이 필요할까?

    수행되어야 하는 작업을 스케줄링하고, 그 작업들의 큐(Queue)와 세마포어(Semaphore)를 관리하여 특정 시점에는 하나의 작업만 처리되도록
    해야하고, 각각의 처리 시에 입력/출력 장치들을 통해 정보를 주고받아야 한다. 공유 메모리 자원을 통해 데이터를 저장하거나, 사용해야 하니 
    메모리 관리도 필요하다. CPU, 램, 입력/출력 장치가 조화롭게 처리될 수 있어야 한다.

    '동시성 제어'는 어떤 자원이나 서비스를 제공하는 시스템이 요청되는 정보들을 동시에 처리/공유를 할 수 있는 체계가 갖추어진
    상태에서 동시성을 제공할 수 있다고 표현할 수 있다.

    동시 처리를 위해 어떤 속성을 가져야 하나? ACID
    OLTP(Online Transaction Processing)의 특성, 또는 DB와 같은 동시 처리 시스템이 갖추어야 할 네 가지 속성을 말한다.

    원자성(Atomicity) : 트랜잭션은 완결된 처리가 되어야 한다. 일부만 수행되고 중단되어서는 안 된다.
    일관성(Consistency) : 트랜잭션은 데이터를 일관된 상태로 유지할 수 있어야 한다.
    고립성(Isolation) : 트랜잭션은 동시에 실행되는 다른 트랜잭션에 무관하게 실행되어야 한다.
    지속성(Durability) : 정상 처리된 트랜잭션의 결과는 영구히 유지되어야 한다.

    트랜잭션(Transaction)이란? 영어 단어의 뜻은 '거래'를 뜻한다. IT 시스템에서는 '하나의 완결된 업무 처리'의 단위이자
    더 이상 나눌 수 없는 업무 처리의 단위를 말한다.

    과거부터 수많은 사용자가 동시에 사용하는 수많은 애플리케이션에 대한 높은 동시성 제어 기술을 보유하고 있던 서버 장비가
    메인프레임이라고 생각하면 된다.

2.3 메인프레임의 장점
    서드파티(Third-Party) 솔루션이란? 서버의 제조업체가 아닌 회사가 독자적으로 만든 하드웨어, 소프트웨어를 통칭하여 부르는 용어이다.
    메인프레임은 과부하 상황에서 처리 성능이나 안정성 저하가 매우 적었다.
    우리가 유닉스나 x86 서버를 사용할 때나 설계할 때 일반적으로 CPU 사용률이 60% ~ 70%를 넘어가게 되면 큐잉(Queuing)이 발생하면서
    성능 저하가 발생한다고 한다.
    CPU 큐잉(Queuing)이란? 어떤 명령어가 들어왔을 때 즉시 처리할 CPU가 없는 경우 가용한 CPU가 생길 때까지 대기하게 되는 현상.
    보안면에서도 뛰어나다. 메인프레임은 워낙 폐쇄적이고 사용자도 많지 않기 때문에 해킹 사고가 거의 없었다.
    운영체제의 구조를 알아야 취약점 분석이 가능한데, 공개되어 있지 않기 때문에 구조를 알기가 너무 어려우니, 해킹도 어려웠다.

2.4 동시성 제어 기술
    규모가 큰 서비스의 경우에는 여러 장비를 논리적으로 하나의 장비처럼 구성해야 한다.
    이때 사용하는 기술이 바로 CF(Coupling Facility)이다.
    CF는 유닉스나 x86의 클러스터(Cluster)와 기술적으로 매우 유사하지만, 별도의 메인프레임 장비를 활용하는 H/W 방식의 클러스터라는 차이점이 있다.
    유닉스나 리눅스에서 클러스터라고 하면 많이 사용하느 MC/SG(Multi Chassis/Service Guard)나 RHCS(RedHat Cluster Suite)가 있다.
    이 역할들은 복수의 노드(서버)가 있을 때 하나는 프라이머리 역할, 나머지는 세컨더리 역할을 부여하고, 프라이머리가 문제가 있을 때
    세컨더리 노드를 이용하여 무중단 서비스를 제공한다.
    스플릿 브레인(Split Brain)이란? 클러스터로 묶여 있는 복수의 노드가 동일한 자원에 대해서 서로 자신이 프라이머리로 인식하여 데이터 정합성이 깨지는 현상.

    

